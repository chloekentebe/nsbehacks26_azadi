<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>azadi - knowledge is power</title>
    <link rel="stylesheet" href="style.css">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>

<body>
    <header class="desktop-header">
        <div class="brand-container">
            <h1 class="brand">azadi</h1>
            <span class="tagline">knowledge is power</span>
        </div>
        <div class="header-auth-wrap" id="header-auth-wrap">
            <button type="button" id="header-auth-btn" class="header-auth-btn" onclick="openAuthModal()">Log in</button>
            <div id="header-profile-dropdown" class="header-profile-dropdown" aria-hidden="true">
                <button type="button" class="header-profile-item" onclick="openProfileForums()"><i data-feather="message-square"></i> Forums</button>
                <button type="button" class="header-profile-item" onclick="openXrpModal()"><i data-feather="credit-card"></i> Change XRP address</button>
                <button type="button" class="header-profile-item header-profile-item--danger" onclick="doLogout()"><i data-feather="log-out"></i> Log out</button>
            </div>
        </div>
    </header>

    <div class="impact-bar-container">
        <div id="impact-fill" class="impact-fill"></div>
    </div>

    <main class="desktop-feed-container" id="video-feed">
    </main>

    <div id="white-page" class="white-page-overlay">
        <header class="white-header">
            <h2 id="new-page-title" class="page-title">Articles</h2>
            <h1 class="return-brand" onclick="closeNewPage()">azadi</h1>
        </header>
        <div id="new-page-content" class="page-content">
        </div>
    </div>

    <div id="map-overlay" class="map-overlay">
        <button onclick="closeMap()" class="close-map">Ã—</button>
        <div id="map"></div>
    </div>

    <div id="reward-modal" class="reward-modal">
        <div class="reward-content">
            <h3>Goal Reached! ðŸŽ‰</h3>
            <p>You've watched 5 videos and learned enough for today. Time to turn that knowledge into real-world impact.
            </p>
            <button class="action-btn" onclick="openNewPage('Protests')">Find Local Actions</button>
            <button class="secondary-btn" onclick="closeRewardModal()">Keep Watching</button>
        </div>
    </div>

    <div id="auth-modal" class="auth-screen" aria-modal="true" role="dialog">
        <button type="button" class="auth-screen-close" onclick="closeAuthModal()" aria-label="Close"><i data-feather="x"></i></button>
        <div class="auth-screen-card">
            <h2 class="auth-screen-brand">azadi</h2>
            <p class="auth-screen-tagline">knowledge is power</p>
            <h3 id="auth-modal-title" class="auth-screen-title">Log in</h3>
            <p id="auth-message" class="auth-screen-message" aria-live="polite"></p>
            <form class="auth-screen-form" onsubmit="submitAuth(); return false;">
                <input type="email" id="auth-email" class="auth-screen-input" placeholder="Email" autocomplete="email" required>
                <input type="password" id="auth-password" class="auth-screen-input" placeholder="Password (min 6 characters)" autocomplete="current-password" minlength="6" required>
                <input type="text" id="auth-xrp" class="auth-screen-input" placeholder="XRP Ledger address (optional, r...)" autocomplete="off">
                <button type="submit" class="auth-screen-submit" id="auth-submit-btn">Log in</button>
            </form>
            <button type="button" class="auth-screen-toggle" id="auth-toggle-btn" onclick="toggleAuthMode()">Create account</button>
        </div>
    </div>

    <div id="xrp-modal" class="auth-screen" aria-hidden="true">
        <button type="button" class="auth-screen-close" onclick="closeXrpModal()" aria-label="Close"><i data-feather="x"></i></button>
        <div class="auth-screen-card xrp-modal-content">
            <h3 class="auth-screen-title">XRP Ledger address</h3>
            <p class="auth-screen-hint" id="xrp-message" aria-live="polite">Enter your address to receive participation NFTs (starts with râ€¦).</p>
            <input type="text" id="xrp-address-input" class="auth-screen-input" placeholder="r..." autocomplete="off">
            <div class="xrp-modal-actions">
                <button type="button" class="auth-screen-submit" onclick="saveXrpAddress()">Save</button>
                <button type="button" class="auth-screen-toggle" onclick="closeXrpModal()">Cancel</button>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="script.js"></script>
</body>

</html>